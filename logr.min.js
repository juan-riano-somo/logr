!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.Logr=t(e)}):"undefined"!=typeof exports?module.exports=t(e):e.Logr=t(e)}(this,function(e){var t={version:"0.2.2",logs:{},defaults:{},currentLevel:1,levels:{LOG:1,INFO:2,WARN:3,ERROR:4,NONE:9},setLevel:function(e){if(isNaN(e))throw new Error("Logr.setLevel(): expects parameter level of type Number");for(var o in t.currentLevel=e,t.logs)t.logs[o].setLevel(e)},log:function(e,n){if("string"!=typeof e)throw new Error("Logr.log(): expects parameter logname of type String");return t.logs[e]||(t.logs[e]=new o(e,n||{})),t.logs[e]}},o=function(e,o){if("string"!=typeof e)throw new Error("Logr.Log: expects parameter logname of type String");this.logname=e,function(e){for(var t,o,n=1,r=arguments.length;n<r;n++)for(o in t=arguments[n])hasOwnProperty.call(t,o)&&(e[o]=t[o])}(this,t.defaults,o||{}),this.init()};return o.prototype.init=function(){for(var e=["log","info","warn","error"],o=function(){},n=0;n<e.length;n++)console&&console[e[n]]&&this.getLevel()<=t.levels[e[n].toUpperCase()]?this[e[n]]=Function.prototype.bind.call(console[e[n]],console,"["+this.logname+"]"):this[e[n]]=o;this.debug=this.log},o.prototype.setLevel=function(t){try{e.sessionStorage&&e.sessionStorage.setItem("logr:"+this.logname+":level",t)}catch(e){console.log("Session storage is blocked")}this.level=t,this.init()},o.prototype.getLevel=function(){let o=this.level||t.currentLevel;try{return e.sessionStorage&&(sessionLevel=e.sessionStorage.getItem("logr:"+this.logname+":level")),sessionLevel||o}catch(e){console.log("Session storage is blocked")}return o},o.prototype.attach=function(e){var t;for(t in e)null===t||"object"!=typeof e[t]?e[t]&&"function"==typeof e[t]&&!/^[A-Z]/g.test(t)&&this.wrap(e,t):this.attach(e[t])},o.prototype.getExceptionLineNumber=function(e){var t=[];return e.stack&&e.sourceURL?(t=e.stack.match(/@.*/g))?t[1]:"":e.stack&&e.fileName?(t=e.stack.match(/@.*/g))?t[1]:"":e.stack&&e.number?(t=e.stack.match(/@.*/g))?t[1]:"":e.stack&&(t=e.stack.match(/\(.*\)/g))?t[1]:""},o.prototype.wrap=function(e,o){var n,r=this;n=e[o],e[o]=function(){var s="";if(r.getLevel()<=t.levels.LOG){try{this.undef()}catch(e){s=r.getExceptionLineNumber(e)}if(console.group){try{console.groupCollapsed("["+r.logname+"] "+e.constructor.name+"."+o+"() "+s),console.log("arguments: ",[].slice.call(arguments)),value=n.apply(this,arguments)}catch(e){for(var l=15;l--;)console.groupEnd();return void console.error(e.stack)}value&&console.log("return: ",value),console.groupEnd()}else console.log("["+r.logname+"] "+e.constructor.name+"."+o+"() "+s),value=n.apply(this,arguments);return value}return n.apply(this,arguments)}},t});